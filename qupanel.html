<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz</title>
<link rel="stylesheet" href="css/qu.css">
<link rel="stylesheet" href="css/circular.css">
</head>

<body>

  <div class="topbar">
    <div class="logo">QuizMaster</div>
    <div class="nav-links">
    <a href="selection.html">Home</a>
    <a href="qupanel.html">Quiz Panel</a>
    <a href="result.html">Result Page</a>
    <a href="proogress.html">Progress Bar Section</a>
    </div>
    <div class="user-area">
        <span>Guest User</span>
        <a href="index.html"><button class="logout-btn">Logout</button></a>
    </div>
</div>

<div class="page">

<div class="loader-overlay">
  <div class="loader-card">
    <div class="circle-loader">
      <svg>
        <circle class="bg"></circle>
        <circle class="progress"></circle>
      </svg>
      <span class="loader-text">Loading</span>
    </div>
    <p>Preparing your quiz...</p>
  </div>
</div>


<div class="quiz-card">

  <!-- HEADER -->
  <div class="quiz-header">
    <span>Q. 1/3</span>
    <div class="circle-timer">
      <svg>
        <circle class="bg"></circle>
        <circle class="progress"></circle>
      </svg>
      <span class="time-text">30s</span>
    </div>
  </div>

  <!-- QUESTION BOX -->
  <div class="question-box">

    <p class="question"></p>

    <label class="option">
  <input type="radio" name="option">
  <span></span>
</label>

<label class="option">
  <input type="radio" name="option">
  <span></span>
</label>

<label class="option">
  <input type="radio" name="option">
  <span></span>
</label>

<label class="option">
  <input type="radio" name="option">
  <span></span>
</label>


  <div class="btn-group">
  <button type="button" id="prevBtn" onclick="prevQuestion()" class="prev-btn">Previous</button>
  <button type="button" id="nextBtn" onclick="nextQuestion()" class="next-btn">Next</button>
  <button type="button" id="submitBtn" onclick="submitQuiz()" class="submit-btn">Submit</button>
</div>


  </div>
</div>
</div>

</body>
<script>
const questions = [
  {
    question: "What does HTML stand for?",
    options: [
      "Hyper Text Markup Language",
      "High Text Machine Language",
      "Hyper Tool Multi Language",
      "Home Text Markup Language"
    ],
    answer: 0
  },
  {
    question: "CSS is used for?",
    options: [
      "Styling web pages",
      "Database",
      "Server logic",
      "None"
    ],
    answer: 0
  },
  {
    question: "Which is NOT a programming language?",
    options: [
      "Python",
      "Java",
      "HTML",
      "C"
    ],
    answer: 2
  }
];

let currentIndex = 0;
let userAnswers = new Array(questions.length).fill(null);

function loadQuestion() {
  const q = questions[currentIndex];
  document.querySelector(".question").innerText = q.question;

  const options = document.querySelectorAll(".option input");
  const labels = document.querySelectorAll(".option span");

  labels.forEach((span, index) => {
    span.innerText = q.options[index];
    options[index].checked = userAnswers[currentIndex] === index;
  });

  document.querySelector(".quiz-header span").innerText =
    `Q. ${currentIndex + 1}/${questions.length}`;

  document.getElementById("prevBtn").style.display =
    currentIndex === 0 ? "none" : "inline-block";

  document.getElementById("nextBtn").style.display =
    currentIndex === questions.length - 1 ? "none" : "inline-block";

  document.getElementById("submitBtn").style.display =
    currentIndex === questions.length - 1 ? "inline-block" : "none";
}

function nextQuestion() {
  if (currentIndex < questions.length - 1) {
    currentIndex++;
    loadQuestion();
  }
}

function prevQuestion() {
  if (currentIndex > 0) {
    currentIndex--;
    loadQuestion();
  }
}

function submitQuiz() {
  let score = 0;
  let notAttempted = 0;

  questions.forEach((q, index) => {
    if (userAnswers[index] === null) {
      notAttempted++;
    } else if (userAnswers[index] === q.answer) {
      score++;
    }
  });

  let total = questions.length;
  let wrong = total - score - notAttempted;

  localStorage.setItem("score", score);
  localStorage.setItem("total", total);
  localStorage.setItem("correct", score);
  localStorage.setItem("wrong", wrong);
  localStorage.setItem("unanswered", notAttempted);

  window.location.href = "result.html";


}

window.onload = function () {
  loadQuestion();

  document.querySelectorAll(".option input").forEach((radio, index) => {
    radio.addEventListener("change", () => {
      userAnswers[currentIndex] = index;
    });
  });
};
</script>

</html>

